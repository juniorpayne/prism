# Production Environment Configuration Template
# This file contains environment variables for production deployment

# Environment identification
ENVIRONMENT=production
LOG_LEVEL=WARNING

# API Configuration
API_PORT=8081
TCP_PORT=8080
API_HOST=0.0.0.0

# Database Configuration (PostgreSQL for production)
DATABASE_URL=postgresql://prism:${DATABASE_PASSWORD}@database:5432/prism_production
DATABASE_HOST=database
DATABASE_PORT=5432
DATABASE_NAME=prism_production
DATABASE_USER=prism
DATABASE_PASSWORD=${DATABASE_PASSWORD}
DATABASE_CONNECTION_POOL_SIZE=50
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Server Configuration
SERVER_HOST=${SERVER_HOST:-prism-dns.com}
SERVER_DOMAIN=${SERVER_DOMAIN:-prism-dns.com}
SSL_ENABLED=true
CORS_ORIGINS=https://${SERVER_DOMAIN}

# Monitoring and Logging
MONITORING_ENABLED=true
METRICS_PORT=8082
LOG_FORMAT=json
LOG_FILE=/app/logs/prism-production.log
SYSLOG_ENABLED=true
SYSLOG_HOST=${SYSLOG_HOST:-}

# Security Settings (production-hardened)
SECRET_KEY=${API_SECRET_KEY}
SESSION_TIMEOUT=900
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=500
RATE_LIMIT_BURST=100
CSRF_PROTECTION=true
XSS_PROTECTION=true

# Production Features
DEBUG_MODE=false
AUTO_RELOAD=false
ENABLE_PROFILING=false
ERROR_REPORTING=true

# Client Configuration
CLIENT_HEARTBEAT_INTERVAL=120
CLIENT_TIMEOUT=600
CLIENT_RETRY_ATTEMPTS=10
CLIENT_BACKOFF_FACTOR=2

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=3600
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/app/backups
BACKUP_ENCRYPTION=true
BACKUP_COMPRESSION=true

# External Services
NOTIFICATION_WEBHOOK_URL=${NOTIFICATION_WEBHOOK_URL}
EXTERNAL_API_BASE_URL=${EXTERNAL_API_BASE_URL:-}
SENTRY_DSN=${SENTRY_DSN:-}

# Container Configuration
CONTAINER_NAME=prism-production
RESTART_POLICY=always
MEMORY_LIMIT=2g
CPU_LIMIT=1.0

# SSL/TLS Configuration (production-grade)
SSL_CERT_PATH=/etc/ssl/certs/prism-production.crt
SSL_KEY_PATH=/etc/ssl/private/prism-production.key
SSL_PROTOCOLS=TLSv1.2,TLSv1.3
SSL_CIPHERS=ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384
SSL_PREFER_SERVER_CIPHERS=true
HSTS_MAX_AGE=31536000

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60

# Performance Configuration (production-optimized)
WORKER_PROCESSES=4
WORKER_CONNECTIONS=2048
MAX_REQUEST_SIZE=10MB
REQUEST_TIMEOUT=30
KEEPALIVE_TIMEOUT=65

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Alerting Configuration
ALERT_EMAIL=${ALERT_EMAIL}
ALERT_SLACK_WEBHOOK=${ALERT_SLACK_WEBHOOK:-}
ALERT_CRITICAL_THRESHOLD=0.95
ALERT_WARNING_THRESHOLD=0.80